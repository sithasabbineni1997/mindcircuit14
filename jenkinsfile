

                

pipeline {
    agent any

    stages {

        stage('clone') {
            steps {
                echo 'Cloning repository...'
                git branch: 'main', url: 'https://github.com/sithasabbineni1997/mindcircuit14.git'
            }
        }

        stage('build') {
            steps {
                echo 'Building with Maven...'
                sh 'mvn clean install'
            }
        }

        stage('deploy') {
            steps {
                echo 'Deploying to Tomcat...'
                deploy adapters: [
                    tomcat9(
                        alternativeDeploymentContext: '',
                        credentialsId: 'sitha',
                        path: '',
                        url: 'http://34.224.91.168:8081/manager/html'
                    )
                ],
                contextPath: 'sitha-p',
                war: '**/*.war'
            }
        }

    }
}
